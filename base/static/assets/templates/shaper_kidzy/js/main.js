jQuery(function($){$('#offcanvas-toggler').on('click',function(event){event.preventDefault();$('body').addClass('offcanvas');});$('<div class="offcanvas-overlay"></div>').insertBefore('.body-innerwrapper > .offcanvas-menu');$('.close-offcanvas, .offcanvas-overlay').on('click',function(event){event.preventDefault();$('body').removeClass('offcanvas');});$('.sp-megamenu-wrapper').parent().parent().css('position','static').parent().css('position','relative');$('.sp-menu-full').each(function(){$(this).parent().addClass('menu-justify');});$(document).ready(function(){$("body.sticky-header").find('#sp-header').sticky({topSpacing:0})});$(".search-open-icon").on('click',function(){$(".top-search-input-wrap").fadeIn(200);$(this).hide();$('.search-close-icon').show();$(".top-search-input-wrap, .input-overlay").addClass('active');});$(".search-close-icon").on('click',function(){$(".top-search-input-wrap").fadeOut(200);$(this).hide();$('.search-open-icon').show();$(".top-search-input-wrap, .input-overlay").removeClass('active');});$(document).on('click',function(e){var selector=$('.sp-select');if(!selector.is(e.target)&&selector.has(e.target).length===0){selector.find('ul').slideUp();selector.removeClass('active');}});$('.mod-languages select').each(function(event){$(this).hide();var $self=$(this);var spselect='<div class="sp-select">';spselect+='<div class="sp-select-result">';spselect+='<span class="sp-select-text">'+$self.find('option:selected').text()+'</span>';spselect+=' <i class="fa fa-angle-down"></i>';spselect+='</div>';spselect+='<ul class="sp-select-dropdown">';$self.children().each(function(event){if($self.val()==$(this).val()){spselect+='<li class="active" data-val="'+$(this).val()+'">'+$(this).text()+'</li>';}else{spselect+='<li data-val="'+$(this).val()+'">'+$(this).text()+'</li>';}});spselect+='</ul>';spselect+='</div>';$(this).after($(spselect));});$(document).on('click','.sp-select',function(event){$('.sp-select').not(this).find('ul').slideUp();$(this).find('ul').slideToggle();$(this).toggleClass('active');});$(document).on('click','.mod-languages ul li',function(event){var $select=$(this).closest('.sp-select').prev('select');$(this).parent().prev('.sp-select-result').find('span').html($(this).text());$(this).parent().find('.active').removeClass('active');$(this).addClass('active');$select.val($(this).data('val'));$select.change();});$('[data-toggle="tooltip"]').tooltip();$(document).on('click','.sp-rating .star',function(event){event.preventDefault();var data={'action':'voting','user_rating':$(this).data('number'),'id':$(this).closest('.post_rating').attr('id')};var request={'option':'com_ajax','plugin':'helix3','data':data,'format':'json'};$.ajax({type:'POST',data:request,beforeSend:function(){$('.post_rating .ajax-loader').show();},success:function(response){var data=$.parseJSON(response.data);$('.post_rating .ajax-loader').hide();if(data.status=='invalid'){$('.post_rating .voting-result').text('You have already rated this entry!').fadeIn('fast');}else if(data.status=='false'){$('.post_rating .voting-result').text('Somethings wrong here, try again!').fadeIn('fast');}else if(data.status=='true'){var rate=data.action;$('.voting-symbol').find('.star').each(function(i){if(i<rate){$(".star").eq(-(i+1)).addClass('active');}});$('.post_rating .voting-result').text('Thank You!').fadeIn('fast');}},error:function(){$('.post_rating .ajax-loader').hide();$('.post_rating .voting-result').text('Failed to rate, try again!').fadeIn('fast');}});});});